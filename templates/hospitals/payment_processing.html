{% extends 'hospitals/hospital_base.html'%}
{% load static %}
{% load crispy_forms_tags %}
{% block title%}| Welcome {% endblock %}

{% block styles %}
<link rel="stylesheet" type="text/css" href="{% static 'css/hospital_dashboard.css' %}">
{% endblock %}


{% block content %}

<main class="container">
    <h1 class="text-center">Please add your payment details</h1>
    
        


    <div class="col-lg-10 col-md-12 col-sm-12 m-auto">
      <ul class="prog-ul d-flex list-unstyled">
        <li class="prog "><small>SUBMIT HOSPITAL REGISTRATION DETAILS</small></li>
        <li class="prog active"><small>ADD PAYMENT DETAILS</small></li>
        <li class="prog "><small>FACILITY INSPECTION</small></li>
      </ul>
    </div>








    <div class="row bg-success rounded">
        <div class="col-md-6 m-auto">
            <p class="text-center text-white pt-2">Fill the Form below. All fields in asterisk (*) are required.</p>
        </div>
    </div>



    <div class="row mt-5">
        <div class="col-md-12 m-auto">

            
                <form method="POST" action="." enctype="multipart/form-data">
                {% csrf_token %}

                <input type="hidden" name="practice_manager" {% if user.is_authenticated %} value="{{ request.user.id }}" {% endif %} required id="id_practice_manager">



                
                <div class="form-row">
                 <div class="form-group ol col-lg-6 m-auto">
                {{ form.application_no|as_crispy_field }}
                </div>
                </div>





               <div class="form-row"> 
                <div class="form-group ol col-lg-6 m-auto">

                <div id="div_id_hospital_name" class="form-group">
               <label for="id_hospital_name" class=" requiredField">
                Hospital name<span class="asteriskField">*</span>
                </label>
                <div class="">
                <input type="text" name="hospital_name" maxlength="200" class="textinput textInput form-control" {% if user.is_authenticated %} value="{{ user.hospital_name }}" {% endif %} required id="id_hospital_name" readonly>
                </div>
               </div>
               </div>
               </div>

               <div class="form-row"> 
                <div class="form-group ol col-lg-6 m-auto">
                
                <div id="div_id_license_category" class="form-group">
               <label for="id_license_category" class=" requiredField">
                License Category<span class="asteriskField">*</span>
                </label>
                <div class="">
                 <input type="text" name="license_category" maxlength="200" class="textinput textInput form-control" 
                {% if user.is_authenticated %} value="{{ user.hospital_type }}" {% endif %}
                required id="id_license_category" readonly>
                </div>
                </div>

                </div>
                 </div>

                <div class="form-row">
                 <div class="form-group ol col-lg-6 m-auto">
                {{ form.rrr_number|as_crispy_field }}
                </div>
                </div>


                <div class="form-row">
                 <div class="form-group ol col-lg-6 m-auto">
                {{ form.receipt_number|as_crispy_field }}
                </div>
                </div>


                <div class="form-row">
                <div class="form-group ol col-lg-6 m-auto">
               {{ form.payment_amount|as_crispy_field }}
               </div>
               </div>


                <div class="form-row">
                 <div class="form-group ol col-lg-6 m-auto">
                {{ form.payment_method|as_crispy_field }}
                </div>
                </div>


               


               
                
              
               

                <div class="form-row">
                <div class="form-group ol col-lg-6 m-auto">
                <input class="form-check-input" type="checkbox" value="" id="invalidCheck" required>
                <label class="form-check-label" for="invalidCheck">
                I agree that all my details are correct!
                </label>
                <div class="invalid-feedback">
                You must agree before submitting.
                </div>
                </div>
                </div>


                <div class="row justify-content-center align-items-center">
                       
                <button type="button" class="btn btn-outline-secondary px-4 mx-4">&times; Cancel</button>
                           
                <a href="{% url 'hospitals:status' %}" class="btn btn-dark text-white px-4 mx-4"><i class="fa fa-times"></i> Go Back</a>
                <button type="submit" class="btn btn-success px-4 mx-4" name="_save">Proceed &#x21E8;</button>
                 </div>
              
                    

            </form>
        </div>
    </div>
</main>






<script src="./js/jquery-3.3.1.slim.min.js"></script>
<script src="./js/bootstrap.min.js"></script>
<script src="./js/app.js"></script>
<script>
    // Example starter JavaScript for disabling form submissions if there are invalid fields
    (function () {
        'use strict';
        window.addEventListener('load', function () {
            // Fetch all the forms we want to apply custom Bootstrap validation styles to
            var forms = document.getElementsByClassName('needs-validation');
            // Loop over them and prevent submission
            var validation = Array.prototype.filter.call(forms, function (form) {
                form.addEventListener('submit', function (event) {
                    if (form.checkValidity() === false) {
                        event.preventDefault();
                        event.stopPropagation();
                    }
                    form.classList.add('was-validated');
                }, false);
            });
        }, false);
    })();
</script>
{% endblock %}